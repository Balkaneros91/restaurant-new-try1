{% extends 'base.html' %}
{% load static %}
{% block content %}


<!-- Cover -->
<div class="cover_1 cover_sm">
  <div class="img_bg" style="background-image: url({% static 'site_static/img/slider-1.jpg' %})"
    data-stellar-background-ratio="0.5">
    <div class="container">
      <div class="row align-items-center justify-content-center">
        <div class="col-md-8" data-aos="fade-up">
          <h2 class="heading">Bienvenidos a 'Cubaneros'</h2>
          <p class="lead">Welcome to the real Cuban experience!</p>
        </div>
      </div>
    </div>
  </div>
</div>


<div class="section">
  <div class="container">
    <div class="row justify-content-center mb-2" data-aos="fade-up">
      <div class="col text-center m-4">
        <h2>About {{ about_us.restaurant_name }}</h2>
        <p>{{ about_us.description }}</p>
      </div>
    </div>
  </div>
</div>


<hr>


<div class="container">
  <div class="row">
    <div class="col-md-12">

      <h2 class="text-center">Menu List with Price</h2>

      <!-- Better version Category links -->

      <ul class="nav site-tab-nav" id="pills-tab" role="tablist">
        {% for category in categories %}
        <li class="nav-item">
          <a class="nav-link " id="{{ category }}-tab" data-toggle="pill" href="#{{ category }}" role="tab"
            aria-controls="{{ category }}" aria-selected="true">{{ category }}</a>
        </li>
        {% endfor %}
      </ul>


      <!-- <ul class="nav site-tab-nav" id="pills-tab" role="tablist">
        {% for category in categories %}
        <li class="nav-item">
          <a class="nav-link" id="{{ category.name }}-tab" data-toggle="pill" href="#{{ category.name }}" role="tab"
            aria-controls="{{ category.name }}" aria-selected="true">{{ category.name }}</a>
        </li>
        {% endfor %}
      </ul> -->


      <div class="tab-content" id="pills-tabContent">
        {% for category in categories %}
        <div class="tab-pane fade show" id="{{ category.name }}" role="tabpanel"
          aria-labelledby="{{ category.name }}-tab">
          {% for meal in category.meal_set.all %}
          <!-- original -->

          {% if meal.category == category %}

          <div class="d-block d-md-flex">
            <div class="mb-3">
              <h3><a href="{% url 'menu:meal_details' meal.slug %}">{{ meal.name }}</a></h3>
              <p>{{ meal.description|truncatewords:20 }}</p>
            </div>
            <div>
              <strong>SEK {{ meal.price }}</strong>
            </div>
          </div>

          {% endif %}

          {% empty %}
          <p>No meals found for this category.</p>

          {% endfor %}
        </div>
        {% endfor %}
      </div>

    </div>
  </div>
</div>


<hr>


<div class="section">
  <div class="container">
    <div class="row justify-content-center mt-2" data-aos="fade-up">
      <div class="col text-right m-4">
        <h2 class="mb-4 text-center">Contacts:</h2>
        <p><strong>Name:</strong>{{ contacts.name }}</p>
        <p><strong>Email:</strong>{{ contacts.email }}</p>
        <p><strong>Tel.:</strong>{{ contacts.phone_number }}</p>
        <p><strong>Address:</strong>{{ contacts.address }}</p>
      </div>
    </div>
  </div>
</div>


<hr>


<div class="section pt-0 pb-0">
  <div class="menus d-flex bg-light">
    {% for meal in meals %}

    <div class="d-flex item">
      <div class="text">
        <h3>{{meal.name}}</h3>
        <p>{{meal.description|truncatewords:15}}</p>
        <p class="price">${{meal.price}}</p>
      </div>
    </div>

    {% endfor %}
  </div>
</div> <!-- .section -->



<script>
  $(document).ready(function () {
    // Activate the first tab by default
    $('#pills-tab a:first').tab('show');

    // Activate the selected tab on click
    $('#pills-tab a').click(function (e) {
      e.preventDefault();
      $(this).tab('show');
    });
  });
</script>


{% endblock %}
